generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PersonalInfo {
  id            Int             @id @default(autoincrement())
  firstName     String
  lastName      String
  phone         String
  address       String
  dateOfBirth   DateTime
  joinDate      DateTime
  department    String
  bankDetails   BankDetails?
  salaryDetails SalaryDetails?
  workDetails   WorkDetails?
  Deductions Deductions?
}

model BankDetails {
  id                Int          @id @default(autoincrement())
  bankAccountNumber String
  bankName          String
  branchCode        String
  employee          PersonalInfo @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  employeeId        Int          @unique
}

model SalaryDetails {
  id                  Int          @id @default(autoincrement())
  basicSalary         Float
  overtimePay         Float
  transportationCosts Float
  familyAllowance     Float
  attendanceAllowance Float
  leaveAllowance      Float
  specialAllowance    Float
  employee            PersonalInfo @relation(fields: [employeeId], references: [id])
  employeeId          Int          @unique
}

model WorkDetails {
  id                       Int          @id @default(autoincrement())
  scheduledWorkingDays     Int
  numberOfWorkingDays      Int
  numberOfPaidHolidays     Int
  remainingPaidVacationDays Int
  overtime                 Int
  timeLate                 Int
  timeLeavingEarly         Int
  employee                 PersonalInfo @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  employeeId               Int          @unique
}

model Deductions {
  id                      Int          @id @default(autoincrement())
  healthInsurance         Float
  employeePensionInsurance Float
  employmentInsurance     Float
  longTermCareInsurance   Float
  socialInsurance         Float
  incomeTax               Float
  residentTax             Float
  advancePayment          Float
  yearEndAdjustment       Float
  employee                PersonalInfo @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  employeeId              Int          @unique
}